<CaptureImage>:
    camera: camera
    capture_button: capture_button
    capture_image: capture_image
    compare_button: compare_button
    model_button: model_button
    detector_backend_button: detector_backend_button
    distance_metric_button: distance_metric_button

    cols: 2
    size: root.width, root.height

    MDBoxLayout:
        orientation: 'vertical'
        margin: ('10dp', '10dp', '10dp', '10dp')

        Camera:
            id: camera
            resolution: (900, 900)
            play: True
            allow_stretch: True
            keep_ratio: True
        
        MDRaisedButton:
            id: capture_button
            text: "Capture"   
            md_bg_color: "red"
            height: '48dp'
            pos_hint: {'x':.5 , 'y': .5}
            margin: ('30dp', '30dp', '30dp', '30dp')
            on_press: root.capture_and_reload()

        Image:
            id: capture_image
            size: '300dp','300dp'

    MDBoxLayout:
        orientation: 'vertical' 

        Image:
            source: root.compare_image_path
            size: '250dp','250dp'

        MDGridLayout:
            cols: 2
            rows: 3

            MDLabel:
                id: model_label 
                text: root.selected_model

            MDRaisedButton:
                id: model_button
                text: "Choose Model"
                on_press: root.model_menu.open()

            MDLabel:
                id: distance_matric_label
                text: root.selected_distance_metric

            MDRaisedButton:
                id: distance_metric_button 
                text: "Choose Distance Metric"
                on_press: root.distance_metric_menu.open() 


            MDLabel:
                id: detector_backend_label
                text: root.selected_detector_backend

            MDRaisedButton:
                id: detector_backend_button
                text: "Choose Detector Backend"
                on_press: root.detector_backend_menu.open()                 

        MDRaisedButton:
            id: compare_button
            text: "Verify"   
            md_bg_color: "green"
            height: '48dp'
            pos_hint: {'x':.5 , 'y': .5}
            margin: ('30dp', '30dp', '30dp', '30dp')
            on_press: root.compare()    


            